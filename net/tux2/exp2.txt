tux32:~# /etc/init.d/networking restart
[....] Restarting networking (via systemctl): networking.service
. ok 

tux32:~# ifconfig eth0 up
tux32:~# ifconfig
eth0      Link encap:Ethernet  HWaddr 00:21:5a:61:30:63  
          inet addr:172.16.1.32  Bcast:172.16.1.255  Mask:255.255.255.0
          inet6 addr: fe80::221:5aff:fe61:3063/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:1 overruns:0 frame:0
          TX packets:45 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:7704 (7.5 KiB)
          Interrupt:17 

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:1930 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1930 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:172754 (168.7 KiB)  TX bytes:172754 (168.7 KiB)

tux32:~# ifconfig eth0 172.16.31.1/24
tux32:~# ifconfig
eth0      Link encap:Ethernet  HWaddr 00:21:5a:61:30:63  
          inet addr:172.16.31.1  Bcast:172.16.31.255  Mask:255.255.255.0
          inet6 addr: fe80::221:5aff:fe61:3063/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:7777 errors:0 dropped:1 overruns:0 frame:0
          TX packets:259 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:511107 (499.1 KiB)  TX bytes:50963 (49.7 KiB)
          Interrupt:17 

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:2001 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2001 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:179222 (175.0 KiB)  TX bytes:179222 (175.0 KiB)

tux32:~# route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
172.16.31.0     0.0.0.0         255.255.255.0   U     0      0        0 eth0

tux32:~# echo 1 > /proc/sys/net/ipv4/ip_forward
tux32:~# echo 0 > /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts

tux32:~# ping -b 172.16.31.255
WARNING: pinging broadcast address
PING 172.16.31.255 (172.16.31.255) 56(84) bytes of data.
64 bytes from 172.16.31.1: icmp_seq=1 ttl=64 time=0.028 ms
64 bytes from 172.16.31.1: icmp_seq=2 ttl=64 time=0.031 ms
64 bytes from 172.16.31.1: icmp_seq=3 ttl=64 time=0.031 ms
64 bytes from 172.16.31.1: icmp_seq=4 ttl=64 time=0.031 ms
64 bytes from 172.16.31.1: icmp_seq=5 ttl=64 time=0.031 ms
64 bytes from 172.16.31.1: icmp_seq=6 ttl=64 time=0.032 ms
64 bytes from 172.16.31.1: icmp_seq=7 ttl=64 time=0.032 ms
64 bytes from 172.16.31.1: icmp_seq=8 ttl=64 time=0.030 ms
64 bytes from 172.16.31.1: icmp_seq=9 ttl=64 time=0.031 ms
64 bytes from 172.16.31.1: icmp_seq=10 ttl=64 time=0.031 ms
^C
--- 172.16.31.255 ping statistics ---
10 packets transmitted, 10 received, 0% packet loss, time 8996ms
rtt min/avg/max/mdev = 0.028/0.030/0.032/0.007 ms

Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
172.16.31.0     0.0.0.0         255.255.255.0   U     0      0        0 eth0

tux32:~# route add -net 172.16.30.0/24 gw 172.16.31.253
tux32:~# route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
172.16.30.0     172.16.31.253   255.255.255.0   UG    0      0        0 eth0
172.16.31.0     0.0.0.0         255.255.255.0   U     0      0        0 eth0
tux32:~# 
